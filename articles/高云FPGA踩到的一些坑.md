# 高云FPGA踩到的一些坑
ctime:2022-03-15 21:15:11 +0800|1647350111

标签（空格分隔）： 技术 硬件 FPGA 经验

---

- MODE引脚需要下拉，才能够进入AUTO BOOT模式（即上电时自动从内部flash读取bitstream）。AUTO BOOT模式需要MODE引脚（最多3位）为000，而默认MODE引脚都是上拉的，因此如果这些引脚不下拉，即使将flash烧进去也用不了。
  - 这个调了一晚上，一开始以为是我自己verilog 的代码问题，但是在开发板上测试是正常的，最后找到高云 FPGA 配置的文档，发现MODE引脚的作用，再对比一下开发板原理图，发现我的MODE引脚是悬空的，WTF
  - 但是由于我板子上并没有把MODE引脚引出来，而芯片又是QFN封装，显然飞不了线，难道就只能重新打板吗？洗澡的时候突然想到MODE引脚旁边就是jtag的TMS，而JTAG只有在烧写的时候才会用到，且TMS是有引出到插针的，那么直接把MODE和TMS短路起来，
上电的时候将TMS接到地不就行了嘛。说干就干，半夜实际操作了一下，果然在linux上可以探测到0x20（我FPGA上I2C的设备地址）了。

- 高云的IDE下载频率无法修改，而烧写到FLASH又需要确定的频率（2.5MHz 或者 30MHZ），结果只能找到老版本的IDE，默认就是2.5MHZ的来下载，真是坑。
